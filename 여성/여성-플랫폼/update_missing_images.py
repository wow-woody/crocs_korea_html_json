import json
import re

# JSON 파일 읽기
with open('여성-플랫폼.json', 'r', encoding='utf-8') as f:
    data = json.load(f)

# HTML에서 추출한 이미지 URL 맵핑 (상품ID: [ALT100, ALT110])
image_mapping = {
    "206750": ["206750_100_ALT100", "206750_100_ALT110"],
    "211753": ["211753_160_ALT100", "211753_160_ALT110"],
    "207521": ["207521_001_ALT100", "207521_001_ALT110"],
    "209408": ["209408_060_ALT100", "209408_060_ALT110"],
    "210103": ["210103_100_ALT100", "210103_100_ALT110"],
    "207261": ["207261_3YF_ALT100", "207261_3YF_ALT110"],
    "211626": ["211626_001_ALT100", "211626_001_ALT110"],
    "210673": ["210673_060_ALT100", "210673_060_ALT110"],
    "211141": ["211141_5BV_ALT100", "211141_5BV_ALT110"],
    "210676": ["210676_6ZW_ALT100", "210676_6ZW_ALT110"],
    "206302": ["206302_5CI_ALT100", "206302_5CI_ALT110"],
    "211607": ["211607_0WV_ALT100", "211607_0WV_ALT110"],
    "211755": ["211755_309_ALT100", "211755_309_ALT200"],
    "210587": ["210587_5BO_ALT100", "210587_5BO_ALT110"],
    "212854": ["212854_001_ALT100", "212854_001_ALT110"],
    "211919": ["211919_7AQ_ALT100", "211919_7AQ_ALT110"],
    "211082": ["211082_3VS_ALT100", "211082_3VS_ALT110"],
    "211355": ["211355_0WV_ALT100", "211355_0WV_ALT110"],
    "208459": ["208459_212_ALT100", "208459_212_ALT110"],
    "206749": ["206749_001_ALT100", "206749_001_ALT110"],
    "210108": ["210108_100_ALT100", "210108_100_ALT110"],
    "210061": ["210061_100_ALT100", "210061_100_ALT110"],
    "209828": ["209828_2Y2_ALT100", "209828_2Y2_ALT110"],
    "208708": ["208708_11S_ALT100", "208708_11S_ALT110"],
    "212770": ["212770_2MZ_ALT100", "212770_2MZ_ALT110"],
    "211751": ["211751_90H_ALT100", "211751_90H_ALT110"],
    "210834": ["210834_0LH_ALT100", "210834_0LH_ALT110"],
    "207241": ["207241_001_ALT100", "207241_001_ALT110"],
    "211380": ["211380_0LH_ALT100", "211380_0LH_ALT110"],
    "211540": ["211540_0HZ_ALT100", "211540_0HZ_ALT110"],
    "208547": ["208547_6TW_ALT100", "208547_6TW_ALT110"],
    "210523": ["210523_90H_ALT100", "210523_90H_ALT110"],
    "210437": ["210437_040_ALT100", "210437_040_ALT110"],
    "210668": ["210668_6ZQ_ALT100", "210668_6ZQ_ALT110"]
}

# 각 상품에 이미지 URL 추가
for item in data:
    product_id = item.get("상품 ID")
    if product_id in image_mapping and (not item.get("상품 이미지") or item.get("상품 이미지") == []):
        images = image_mapping[product_id]
        item["상품 이미지"] = [
            f"https://media.crocs.com/images/t_ok_card/f_auto%2Cq_auto/products/{images[0]}/crocs",
            f"https://media.crocs.com/images/t_ok_card/f_auto%2Cq_auto/products/{images[1]}/crocs"
        ]
        print(f"상품 {item['번호']} ({product_id}) 이미지 추가됨")

# 수정된 JSON 파일 저장
with open('여성-플랫폼_updated.json', 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

print("이미지가 누락된 상품들에 이미지 URL을 추가했습니다.")
print("결과 파일: 여성-플랫폼_updated.json")